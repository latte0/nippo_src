---
title: 日報 2018-03-02
---

|||
|:-|:-:|
|10:30~|起床+朝食|
|11:00~|nixpkgs|
|11:30~|無|
|13:00~|昼食+FGO|
|13:30~|無|
|15:00~|nixpkgs|
|15:30~|皿洗い・掃除|
|16:30~|漫画|
|17:30~|yak-shaving|
|18:30~|夕食|
|19:00~|NixやSATySFi|
|23:00~|無|

起床時間がどんどん遅れてきている。生活習慣を改善したい。

[An opinionated guide to Haskell in 2018](https://lexi-lambda.github.io/blog/2018/02/10/an-opinionated-guide-to-haskell-in-2018/)
を読んでようやくHaskellの強いtoolingの恩恵を受けられるようになった。
毎回HoogleなりHaddockなりを検索しては使って、バージョンの不一致で時たま消耗
していた。

Preludeが良くない、みたいな風潮があるのは知っているけど代わりのものについて
みんなが何を使っているのかが不明。commercialhaskell/rioが気になっている。

4Kディスプレイが届いた。これは確かによい。LINEでもHiDPIなディスプレイを使って
大変捗っていたことを思い出した。

ふと<https://danluu.com/octopress-speedup/>を思い出してここに反映できる工夫が
ないか調べる。webpagetestにかけたらfavicon.icoがないことに気づいて追加した。
`git push`後すぐに<https://mt-caret.github.io/favicon.ico>にアクセスしたところ、
404になってしまってなかなか反映されない。GitHub Pagesには多分ネガティブキャッシュ
みたいなのがあるんだと思う。

夕食時に「高校の同級生で文系の子はもう就活なの？」と親から聞かれて確かにそうかも
しれないと答えた。周りに働くという概念を極端に嫌う人間が多いが、
就労を忌避するのは自然なのだろうか。後輩・同期・先輩の動きを見て焦燥感を
募らせるのは無意味にストレスを生む行為だとわかりつつやってしまう。
尊敬している先輩から「そろそろ研究する分野決めたら？」との助言をいただいが、
果たして自分は何をやっていけばいいのだろうか。[^what-to-do]
いくつかの目標があってそれらを最適化するように行動してきたつもりではあるが、
いまいち自信が持てない。

[^what-to-do]: 多分明示的に「これをやろう」ってするより興味の赴くままに手を
出して知識を深めて自然に研究テーマが湧くのが一番だが。

院試について考えている。

gitでしくじった。gitをノリで使っているからミスった時の復帰がキツイ。

SATySFiのNixベースなパッケージマネージャを組むとしたらどういうふうに設計するのが
いいのか小一時間考えていた。\#nixosで質問したらnix-index/nix-locate[^nix-index]
を勧められた他に、monte言語というパッケージマネジメントにNixを使う言語のことを
教えてもらった。monte言語をパッと見た感じ[^monte-pm]、JSONで依存パッケージを
記述してそこからNix式を生成してロックファイルとして扱っているようだ。
cabal2nix, et al.がアドホックにやらざるを得ないところをちゃんとやっている、
ってところだろうな。

関係するリンクをPinboardから掘り出して読んでる。

- [why you should NEVER write a package manager](http://dominictarr.com/post/25516279897/why-you-should-never-write-a-package-manager)
- [So you want to write a package manager](https://medium.com/@sdboyer/so-you-want-to-write-a-package-manager-4ae9c17d9527) [(HN)](https://news.ycombinator.com/item?id=11088125)

[^nix-index]: こう使うらしい: [Packaging Binaries - NixOS Wiki](https://nixos.wiki/wiki/Packaging_Binaries)
[^monte-pm]: [Working with Packages — Monte 0.1 documentation](https://monte.readthedocs.io/en/latest/packaging.html)

絵が好きすぎる:
[PinocchioP - Vocaloids are Lame / ピノキオピー - ボカロはダサい](https://www.youtube.com/watch?v=bFZoeJn3G3o)

年金・イのメールDone.

ocharles/dhall-buildは時期尚早という感じがある。Dependency GraphをDhallで
表してNixに落とし込むことができたら綺麗だが。

### メモ

`nix-prefetch-url -A`で`fetchurl`以外のハッシュ値も得られる:

```
$ nix-prefetch-url -A linuxPackages.kernel.src
 [78443/90991 KiB, 11001.6 KiB/s]g/pub/linux/kernel/v4.x/linux-4.9.49.tar.xz’... [0/0 KiB, 0.0 Ki [0/90991 KiB, 0.0 KiB/s]
path is ‘/nix/store/mbdwpv9cvyk3wfnd6mvzw0f6yklj9cgq-linux-4.9.49.tar.xz’
1ywiww2h1gf3ps305irzk7n9xkcgg9bclr2jw6r5cqxmh3qxrv2p
```

c.f. [nix-prefetch-github? · Issue #21732 · NixOS/nixpkgs](https://github.com/NixOS/nixpkgs/issues/21732)

Scalpel使えないと思っていたらTagSoupの[Tag str]をそのまま使えることに気づき、
共存可能だと知った。すごい。しかし今回はTagSoupで完結してしまいそう...

## 明日やるべきこと

- スクレイピングが上手くいったら#haskell-beginnerのshaprに報告すること
- 3DMM
- 画像処理調べもの
- Rust
- 確定申告・精算

